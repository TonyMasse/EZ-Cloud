(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([[10],{"0888":function(e,t,i){"use strict";i("c784")},c784:function(e,t,i){},f994:function(e,t,i){"use strict";i.r(t);var s=function(){var e=this,t=e._self._c;return t("q-page",{staticClass:"q-pa-sm"},[t("q-header",{class:e.darkMode?"":"bg-grey-1",style:e.darkMode?"background: var(--q-color-dark);":"",attrs:{bordered:""}},[t("q-toolbar",{staticClass:"q-gutter-x-sm",class:e.darkMode?"":"text-black"},[t("img",{staticClass:"q-mr-md",attrs:{src:e.darkMode?"logrhythm_logo_darkmode_wide.svg":"logrhythm_logo_lightmode_wide.svg",alt:"LogRhythm Open Collector"}}),t("q-btn",{attrs:{"no-caps":"",flat:"",dense:"",icon:"save",label:e.$t("Save"),color:"primary",disabled:!e.needsSaving},on:{click:function(t){return e.save()}}}),t("q-btn",{attrs:{"no-caps":"",flat:"",dense:"",icon:"restore",label:e.$t("Reverse to last saved")},on:{click:function(t){return e.reverseToLastSaved()}}}),t("q-separator",{attrs:{vertical:""}}),e.tailEnabled?t("q-btn",{attrs:{"no-caps":"",flat:"",dense:"",icon:"stop",label:e.$t("Stop Live Tail")},on:{click:function(t){e.tailEnabled=!1}}}):t("q-btn",{attrs:{"no-caps":"",flat:"",dense:"",icon:"play_circle_outline",label:e.$t("Start Live Tail"),color:"secondary"},on:{click:function(t){e.tailEnabled=!0}}}),e.showManualImport?t("q-btn",{attrs:{"no-caps":"",flat:"",dense:"",icon:"visibility_off",label:e.$t("Manual Import")},on:{click:function(t){e.showManualImport=!1}}},[t("q-tooltip",{attrs:{"content-style":"font-size: 1rem;"}},[e._v("\n            "+e._s(e.$t("Hide Manual Import panel"))+"\n          ")])],1):t("q-btn",{attrs:{"no-caps":"",flat:"",dense:"",icon:"playlist_add",label:e.$t("Manual Import")},on:{click:function(t){e.showManualImport=!0}}},[t("q-tooltip",{attrs:{"content-style":"font-size: 1rem;"}},[e._v("\n            "+e._s(e.$t("Import log messages manually"))+"\n          ")])],1),t("q-separator",{attrs:{vertical:""}}),t("q-btn",{attrs:{"no-caps":"",flat:"",dense:"",icon:"file_download",label:e.$t("Export JQ"),disable:""}}),e.showJqOutput?t("q-btn",{attrs:{"no-caps":"",flat:"",dense:"",icon:"visibility_off",label:e.$t("Hide JQ output")},on:{click:function(t){e.showJqOutput=!1}}}):t("q-btn",{attrs:{"no-caps":"",flat:"",dense:"",icon:"visibility",label:e.$t("Show JQ")},on:{click:function(t){e.buildJqFilter(),e.buildJqTransform(),e.showJqOutput=!0}}}),t("q-space"),t("q-btn",{attrs:{"no-caps":"",flat:"",dense:"",icon:"pending",label:e.$t("Advanced")}},[t("q-menu",{attrs:{"max-width":"650px","content-style":"min-width:350px"}},[t("div",{staticClass:"row no-wrap q-pa-md"},[t("div",{staticClass:"column"},[t("div",{staticClass:"text-h6 q-mb-md"},[e._v(e._s(e.$t("Advanced")))]),t("q-toggle",{attrs:{label:e.$t("Show extra details")},model:{value:e.showExtraDetails,callback:function(t){e.showExtraDetails=t},expression:"showExtraDetails"}}),t("q-toggle",{attrs:{label:e.$t("Show Queues")},model:{value:e.showQueues,callback:function(t){e.showQueues=t},expression:"showQueues"}}),t("q-toggle",{attrs:{label:e.$t("Show Communication & Shipper's Logs")},model:{value:e.showCommunicationLog,callback:function(t){e.showCommunicationLog=t},expression:"showCommunicationLog"}})],1)])])],1),t("q-btn",{attrs:{"no-caps":"",flat:"",dense:"",icon:"settings",label:e.$t("Settings")}},[t("q-menu",[t("div",{staticClass:"row no-wrap q-pa-md"},[t("div",{staticClass:"column"},[t("div",{staticClass:"text-h6 q-mb-md"},[e._v(e._s(e.$t("Settings")))]),t("q-item",{staticClass:"q-pl-none"},[t("q-toggle",{attrs:{label:e.$t("Show types in Fields list")},model:{value:e.showTypesInMainList,callback:function(t){e.showTypesInMainList=t},expression:"showTypesInMainList"}})],1),t("q-item",{staticClass:"q-pl-none"},[t("q-toggle",{attrs:{label:e.$t("Show types in Value popups")},model:{value:e.showTypesInPopup,callback:function(t){e.showTypesInPopup=t},expression:"showTypesInPopup"}})],1),t("q-item",{staticClass:"q-pl-none"},[t("q-toggle",{attrs:{label:e.$t("Accept and Wrap non-JSON logs")},model:{value:e.wrapSingleStringLog,callback:function(t){e.wrapSingleStringLog=t},expression:"wrapSingleStringLog"}})],1),t("q-item",{staticClass:"q-pl-none column",staticStyle:{width:"35rem"}},[t("q-toggle",{staticClass:"col",model:{value:e.extractMessageFieldOnly,callback:function(t){e.extractMessageFieldOnly=t},expression:"extractMessageFieldOnly"}},[e._v("\n                    "+e._s(e.$t("Extract Beat's payload field only:"))+"\n                    "),t("q-input",{staticStyle:{width:"30rem"},attrs:{outlined:"",type:"text",label:e.$t("Beat's payload field path"),rules:[t=>String(t).startsWith(".")||e.$t("Please use the dotted path notation")]},on:{click:function(e){e.stopPropagation()}},scopedSlots:e._u([{key:"append",fn:function(){return[t("q-icon",{staticClass:"cursor-pointer",attrs:{name:"o_restart_alt"},on:{click:function(t){t.stopPropagation(),e.messageFieldPath=e.messageFieldPathFromTemplate||".message"}}},[t("q-tooltip",{staticStyle:{"font-size":"1rem"}},[e._v("\n                            "+e._s(e.$t("Reset to field path from Beat's template"))+"\n                          ")])],1)]},proxy:!0}]),model:{value:e.messageFieldPath,callback:function(t){e.messageFieldPath=t},expression:"messageFieldPath"}})],1)],1),t("q-item",{staticStyle:{width:"35rem"}},[t("q-item-section",{attrs:{avatar:""}},[t("q-icon",{attrs:{name:"o_speed"}})],1),t("q-item-section",[t("q-slider",{attrs:{min:1,max:10,label:"","label-value":e.$t("Background Process max: {processInBackgroundMaxRate} / second",{processInBackgroundMaxRate:e.processInBackgroundMaxRate})},model:{value:e.processInBackgroundMaxRate,callback:function(t){e.processInBackgroundMaxRate=t},expression:"processInBackgroundMaxRate"}})],1)],1),t("q-item",{staticStyle:{width:"35rem"}},[t("q-item-section",{attrs:{avatar:""}},[t("q-icon",{attrs:{name:"o_download"}})],1),t("q-item-section",[t("q-slider",{attrs:{min:1,max:2e3,label:"","label-value":e.$t("Max messages in Queue In: {queueInMaxSize}",{queueInMaxSize:e.queueInMaxSize})},model:{value:e.queueInMaxSize,callback:function(t){e.queueInMaxSize=t},expression:"queueInMaxSize"}})],1)],1),t("q-item",{staticStyle:{width:"35rem"}},[t("q-item-section",{attrs:{avatar:""}},[t("q-icon",{attrs:{name:"o_download_for_offline"}})],1),t("q-item-section",[t("q-slider",{attrs:{min:1,max:1e3,label:"","label-value":e.$t("Max messages in Processed Logs: {processedLogsMaxSize}",{processedLogsMaxSize:e.processedLogsMaxSize})},model:{value:e.processedLogsMaxSize,callback:function(t){e.processedLogsMaxSize=t},expression:"processedLogsMaxSize"}})],1)],1)],1)])])],1)],1)],1),t("div",{},[t("BreadCrumbs",{attrs:{crumbs:e.breadCrumbs,pageTitle:e.$tc("Mapping Builder | Mapping Builder: {pipelineName} | Mapping Builder: {pipelineName}",e.pipelineName&&e.pipelineName.length?1:0,{pipelineName:e.pipelineName})}}),t("div",{},[t("q-tooltip",{attrs:{"content-style":"font-size: 1rem;"}},[t("div",{staticClass:"row content-center items-center q-gutter-x-sm"},[t("q-linear-progress",{staticStyle:{width:"5rem"},attrs:{value:.75,color:"indigo",size:"lg",stripe:"","track-color":"grey-10"}}),e._v("\n                "+e._s(e.$t("Inbound Queue: {queueInOverQueueInMaxSize}% ({queueIn} / {queueInMaxSize}).",{queueInOverQueueInMaxSize:0!=e.queueInMaxSize?Math.round(e.queueIn.length/e.queueInMaxSize*100):"_",queueIn:e.queueIn.length,queueInMaxSize:e.queueInMaxSize}))+"\n            ")],1),t("div",{staticClass:"row content-center items-center q-gutter-x-sm"},[t("q-linear-progress",{staticStyle:{width:"5rem"},attrs:{value:.75,color:"teal",size:"lg","track-color":"grey-10"}}),t("div",[e._v("\n                "+e._s(e.$t("Processed Messages: {processedLogsCountOverProcessedLogsMaxSize}% ({processedLogsCount} / {processedLogsMaxSize}).",{processedLogsCountOverProcessedLogsMaxSize:0!=e.processedLogsMaxSize?Math.round(e.processedLogsCount/e.processedLogsMaxSize*100):"_",processedLogsCount:e.processedLogsCount,processedLogsMaxSize:e.processedLogsMaxSize}))+"\n              ")])],1),t("q-separator",{staticClass:"q-my-sm"}),t("q-icon",{staticClass:"q-mr-sm",attrs:{name:"o_info",color:"blue-10",size:"sm"}}),t("span",[e._v(e._s(e.$t("Total Messages sent by the backend: {incomingLogCount}",{incomingLogCount:e.incomingLogCount})))]),t("br"),t("span",[e._v(e._s(e.$t("This includes the messages already in transit when the Live Tail got stopped.")))])],1),t("q-linear-progress",{attrs:{value:e.queueIn.length/e.queueInMaxSize,color:"indigo",size:"lg",stripe:"","track-color":"grey-10"}}),t("q-linear-progress",{attrs:{value:e.processedLogsCount/e.processedLogsMaxSize,color:"teal",size:"lg","track-color":"grey-10"}})],1),t("q-card",{directives:[{name:"show",rawName:"v-show",value:e.showManualImport,expression:"showManualImport"}],staticClass:"q-mt-md"},[t("q-card-section",{staticClass:"text-h4",staticStyle:{opacity:".4"}},[e._v("\n          "+e._s(e.$t("Manual import"))+"\n        ")]),t("q-separator"),t("q-card-section",[t("q-tabs",{attrs:{"active-color":"primary","indicator-color":"primary",align:"justify"},model:{value:e.manualImportMethod,callback:function(t){e.manualImportMethod=t},expression:"manualImportMethod"}},[t("q-tab",{attrs:{name:"single_log",label:e.$t("Single Log")}}),t("q-tab",{attrs:{name:"multiple_logs",label:e.$t("Multiple Logs")}}),t("q-tab",{attrs:{name:"log_file",label:e.$t("File Import")}})],1),t("q-separator"),t("q-tab-panels",{attrs:{animated:""},model:{value:e.manualImportMethod,callback:function(t){e.manualImportMethod=t},expression:"manualImportMethod"}},[t("q-tab-panel",{attrs:{name:"single_log"}},[t("q-input",{attrs:{outlined:"",autogrow:"","input-style":"min-height: 16em;",label:e.$t("One single JSON log at a time"),rules:[t=>e.isProperJson(t)||"JSON Syntax Error(s)"]},on:{keypress:function(t){return!t.type.indexOf("key")&&e._k(t.keyCode,"enter",13,t.key,"Enter")?null:t.shiftKey?(t.preventDefault(),e.queueInAdd({values:e.queueInDataEntrySingleLog,manualEntry:!0})):null}},scopedSlots:e._u([{key:"after",fn:function(){return[t("div",{staticClass:"full-height justify-around q-gutter-y-lg"},[t("q-btn",{attrs:{dense:"",icon:"playlist_add",color:"primary",disable:!e.isProperJson(e.queueInDataEntrySingleLog)},on:{click:function(t){return e.queueInAdd({values:e.queueInDataEntrySingleLog,manualEntry:!0})}}},[t("q-tooltip",{attrs:{"content-style":"font-size: 1rem; min-width: 10rem;"}},[e._v("\n                        "+e._s(e.$t("Add to Queue"))+"\n                      ")])],1),t("q-btn",{staticClass:"row",attrs:{dense:"",icon:"content_copy",flat:"",disable:!e.queueInDataEntrySingleLog.length},on:{click:function(t){return e.copyToClipboard(e.queueInDataEntrySingleLog)}}},[t("q-tooltip",{attrs:{"content-style":"font-size: 1rem; min-width: 10rem;"}},[e._v("\n                        "+e._s(e.$t("Copy to Clipboad"))+"\n                      ")])],1),t("q-btn",{staticClass:"row",attrs:{dense:"",icon:"close",flat:"",disable:!e.queueInDataEntrySingleLog.length},on:{click:function(t){e.queueInDataEntrySingleLog=""}}},[e.queueInDataEntrySingleLog.length?t("q-tooltip",{attrs:{"content-style":"font-size: 1rem; min-width: 10rem;"}},[e._v("\n                        "+e._s(e.$t("Clear out"))+"\n                      ")]):e._e()],1)],1)]},proxy:!0}]),model:{value:e.queueInDataEntrySingleLog,callback:function(t){e.queueInDataEntrySingleLog=t},expression:"queueInDataEntrySingleLog"}})],1),t("q-tab-panel",{attrs:{name:"multiple_logs"}},[t("q-input",{attrs:{outlined:"",autogrow:"","input-style":"min-height: 16em;",label:e.$t("One JSON entry per line"),rules:[e=>null!=e||"Common, give me some JSON!"]},on:{keypress:function(t){return!t.type.indexOf("key")&&e._k(t.keyCode,"enter",13,t.key,"Enter")?null:t.shiftKey?(t.preventDefault(),e.queueInAdd({values:e.queueInDataEntryMultiLog,manualEntry:!0})):null}},scopedSlots:e._u([{key:"after",fn:function(){return[t("div",{staticClass:"full-height justify-around q-gutter-y-lg"},[t("q-btn",{staticClass:"row",attrs:{dense:"",icon:"playlist_add",color:"primary",disable:!e.queueInDataEntryMultiLog.length},on:{click:function(t){return e.queueInAdd({values:e.queueInDataEntryMultiLog,manualEntry:!0,multiLogs:!0})}}},[t("q-tooltip",{attrs:{"content-style":"font-size: 1rem; min-width: 10rem;"}},[e._v("\n                        "+e._s(e.$t("Add to Queue"))+"\n                      ")])],1),t("q-btn",{staticClass:"row",attrs:{dense:"",icon:"content_copy",flat:"",disable:!e.queueInDataEntryMultiLog.length},on:{click:function(t){return e.copyToClipboard(e.queueInDataEntryMultiLog)}}},[t("q-tooltip",{attrs:{"content-style":"font-size: 1rem; min-width: 10rem;"}},[e._v("\n                        "+e._s(e.$t("Copy to Clipboad"))+"\n                      ")])],1),t("q-btn",{staticClass:"row",attrs:{dense:"",icon:"close",flat:"",disable:!e.queueInDataEntryMultiLog.length},on:{click:function(t){e.queueInDataEntryMultiLog=""}}},[e.queueInDataEntryMultiLog.length?t("q-tooltip",{attrs:{"content-style":"font-size: 1rem; min-width: 10rem;"}},[e._v("\n                        "+e._s(e.$t("Clear out"))+"\n                      ")]):e._e()],1)],1)]},proxy:!0}]),model:{value:e.queueInDataEntryMultiLog,callback:function(t){e.queueInDataEntryMultiLog=t},expression:"queueInDataEntryMultiLog"}})],1),t("q-tab-panel",{attrs:{name:"log_file"}},[t("q-file",{attrs:{outlined:"","bottom-slots":"",label:e.$t("Click or Drop a file here"),multiple:"",counter:"","max-files":"10","input-style":"min-height: 15.75em;"},scopedSlots:e._u([{key:"append",fn:function(){return[null!==e.manualImportFileInput?t("q-icon",{staticClass:"cursor-pointer",attrs:{name:"o_close"},on:{click:function(t){t.stopPropagation(),e.manualImportFileInput=null}}}):e._e(),t("q-icon",{attrs:{name:"o_note_add"},on:{click:function(e){e.stopPropagation()}}})]},proxy:!0},{key:"after",fn:function(){return[t("div",{staticClass:"full-height justify-around q-gutter-y-lg"},[t("q-btn",{staticClass:"row",attrs:{dense:"",icon:"upload_file",color:"primary",disable:null==e.manualImportFileInput}},[t("q-tooltip",{attrs:{"content-style":"font-size: 1rem; min-width: 10rem;"}},[null!==e.manualImportFileInput&&e.manualImportFileInput.length>1?t("span",[e._v(e._s(e.$t("Add Files Content to Queue")))]):t("span",[e._v(e._s(e.$t("Add File Content to Queue")))])]),t("q-menu",[t("q-list",{staticStyle:{"min-width":"400px"}},[t("q-item",{directives:[{name:"close-popup",rawName:"v-close-popup"}],attrs:{clickable:""},on:{click:function(t){return e.processFilesInput({filesInput:e.manualImportFileInput,importAs:"single_log_per_file"})}}},[t("q-item-section",{attrs:{avatar:"",top:""}},[t("q-avatar",{attrs:{icon:"short_text",color:"green-10","text-color":"white"}})],1),t("q-item-section",[t("q-item-label",{attrs:{lines:"1"}},[e._v(e._s(e.$t("As a Single Log")))]),t("q-item-label",{attrs:{caption:""}},[e._v(e._s(e.$t("One JSON Log per file")))])],1)],1),t("q-item",{directives:[{name:"close-popup",rawName:"v-close-popup"}],attrs:{clickable:""},on:{click:function(t){return e.processFilesInput({filesInput:e.manualImportFileInput,importAs:"log_array_per_file"})}}},[t("q-item-section",{attrs:{avatar:"",top:""}},[t("q-avatar",{attrs:{icon:"data_array",color:"purple-10","text-color":"white"}})],1),t("q-item-section",[t("q-item-label",{attrs:{lines:"1"}},[e._v(e._s(e.$t("As an Array of Logs")))]),t("q-item-label",{attrs:{caption:""}},[e._v(e._s(e.$t("One JSON array of Logs per file")))])],1)],1),t("q-item",{directives:[{name:"close-popup",rawName:"v-close-popup"}],attrs:{clickable:""},on:{click:function(t){return e.processFilesInput({filesInput:e.manualImportFileInput,importAs:"log_set_per_file"})}}},[t("q-item-section",{attrs:{avatar:"",top:""}},[t("q-avatar",{attrs:{icon:"format_list_numbered",color:"indigo-10","text-color":"white"}})],1),t("q-item-section",[t("q-item-label",{attrs:{lines:"1"}},[e._v(e._s(e.$t("As a Set of Logs")))]),t("q-item-label",{attrs:{caption:""}},[e._v(e._s(e.$t("One JSON log per line")))])],1)],1),t("q-separator"),t("q-item",{directives:[{name:"close-popup",rawName:"v-close-popup"}],attrs:{clickable:"",tag:"a",href:e.wikiLink("ref-whatsthedifferencefileimport"),target:"_blank"}},[t("q-item-section",{attrs:{avatar:"",top:""}},[t("q-avatar",{attrs:{icon:"help_outline",color:"info","text-color":"black"}})],1),t("q-item-section",[t("q-item-label",{attrs:{lines:"1"}},[e._v(e._s(e.$t("What's the difference?")))]),t("q-item-label",{attrs:{caption:""}},[e._v(e._s(e.$t("A quick peek at the Wiki")))])],1)],1)],1)],1)],1),t("q-btn",{staticClass:"row",attrs:{dense:"",icon:"close",flat:"",disable:null==e.manualImportFileInput},on:{click:function(t){e.manualImportFileInput=null}}},[null!=e.manualImportFileInput?t("q-tooltip",{attrs:{"content-style":"font-size: 1rem; min-width: 10rem;"}},[e._v("\n                        "+e._s(e.$t("Clear out file selection"))+"\n                      ")]):e._e()],1)],1)]},proxy:!0}]),model:{value:e.manualImportFileInput,callback:function(t){e.manualImportFileInput=t},expression:"manualImportFileInput"}})],1)],1)],1)],1),t("q-card",{directives:[{name:"show",rawName:"v-show",value:e.showQueues,expression:"showQueues"}],staticClass:"q-mt-md"},[t("q-card-section",{staticClass:"text-h4",staticStyle:{opacity:".4"}},[e._v("\n          "+e._s(e.$t("Queues"))+"\n        ")]),t("q-separator"),t("q-card-section",[t("div",{staticClass:"text-caption"},[e._v("\n            "+e._s(e.$t("Input Queue"))+"\n          ")]),t("q-input",{attrs:{filled:"",autogrow:"","input-style":"min-height: 10em;",readonly:"",label:e.$t("Read Only")},scopedSlots:e._u([{key:"after",fn:function(){return[t("div",{staticClass:"column"},[t("q-btn",{attrs:{round:"",dense:"",flat:"",icon:"input",disable:Object.keys(e.queueProcess).length>0},on:{click:function(t){return e.queueProcessAdd({fromArray:e.queueIn})}}}),t("q-btn",{attrs:{round:"",dense:"",flat:"",icon:"clear",disable:0==e.queueIn.length,color:"red"},on:{click:function(t){e.queueIn=[]}}})],1)]},proxy:!0}]),model:{value:e.queueInWindow,callback:function(t){e.queueInWindow=t},expression:"queueInWindow"}})],1),t("q-card-section",[t("div",{staticClass:"text-caption"},[e._v("\n            "+e._s(e.$t("Process Queue"))+"\n          ")]),t("q-input",{attrs:{filled:"",autogrow:"","input-style":"min-height: 10em;",readonly:"",label:e.$t("Read Only")},scopedSlots:e._u([{key:"after",fn:function(){return[t("q-btn",{attrs:{round:"",dense:"",flat:"",icon:"send",disable:0===Object.keys(e.queueProcess).length},on:{click:function(t){return e.processLogSample({options:{cleanQueueProcessAfterProcess:!0}})}}})]},proxy:!0}]),model:{value:e.queueProcessWindow,callback:function(t){e.queueProcessWindow=t},expression:"queueProcessWindow"}})],1)],1),t("q-card",{staticClass:"q-mt-md fit column"},[t("div",{staticClass:"row items-stretch text-bold",staticStyle:{"min-height":"2.5rem"}},[t("div",{staticClass:"row content-center q-ml-sm",staticStyle:{width:"3rem"}},[e._v("\n            "+e._s(e.$t("Freq."))+"\n          ")]),t("q-separator",{staticClass:"q-ml-xs",attrs:{vertical:""}}),t("div",{staticClass:"content-center col row q-mx-sm q-px-sm"},[e._v("\n            "+e._s(e.$t("Fields"))+"\n          ")]),t("q-separator",{attrs:{vertical:""}}),t("div",{staticClass:"row content-center q-mx-sm q-my-xs q-px-sm",staticStyle:{width:"18rem"}},[e._v("\n            "+e._s(e.$t("Mapping"))+"\n          ")]),t("q-separator",{attrs:{vertical:""}}),t("div",{staticClass:"row content-center q-mx-sm q-my-xs q-px-sm",staticStyle:{width:"20rem"}},[e._v("\n            "+e._s(e.$t("Modifiers"))+"\n          ")]),t("div",{staticStyle:{width:"1rem"}})],1),t("q-separator"),t("q-virtual-scroll",{class:e.darkMode?"dark":"",staticStyle:{height:"calc(100vh - (15rem))","min-height":"10rem"},attrs:{items:e.orderBy(e.jsonPathes,"name"),"virtual-scroll-item-size":"48"},scopedSlots:e._u([{key:"default",fn:function({item:i,index:s}){return[t("div",{key:s,staticClass:"row items-stretch q-my-none q-py-none json-path-line",staticStyle:{"min-height":"1.5rem"}},[t("div",{staticClass:"row content-center q-mr-sm q-gutter-y-none",staticStyle:{width:"3rem"}},[t("q-tooltip",{attrs:{"content-style":"font-size: 1em;"}},[t("q-icon",{attrs:{name:"o_stop",color:e.darkMode?"blue-10":"blue-7"}}),e._v(e._s(e.$t("Relative frequency {seenInLogCountOverMaxSeenInLog}% ({seenInLogCount} / {maxSeenInLog}).",{seenInLogCountOverMaxSeenInLog:0!=e.maxSeenInLog?Math.round(i.seenInLogCount/e.maxSeenInLog*100):"_",seenInLogCount:i.seenInLogCount,maxSeenInLog:e.maxSeenInLog}))),t("br"),t("q-icon",{attrs:{name:"o_stop",color:e.darkMode?"indigo-10":"indigo-7"}}),e._v(e._s(e.$tc("N/A | Seen in {seenInLogCountOverProcessedLogsCount}% of the logs ({seenInLogCount} / {processedLogsCount}). | Seen in {seenInLogCountOverProcessedLogsCount}% of the logs ({seenInLogCount} / {processedLogsCount}).",e.processedLogsCount,{seenInLogCountOverProcessedLogsCount:0!=e.processedLogsCount?Math.round(i.seenInLogCount/e.processedLogsCount*100):"_",seenInLogCount:i.seenInLogCount,processedLogsCount:e.processedLogsCount}))+"\n                ")],1),t("q-linear-progress",{attrs:{value:i.seenInLogCount/e.maxSeenInLog,color:e.darkMode?"blue-10":"blue-7"}}),t("q-linear-progress",{attrs:{value:i.seenInLogCount/e.processedLogsCount,color:e.darkMode?"indigo-10":"indigo-7"}})],1),e._l(i.depth,(function(e){return t("div",{key:e,staticClass:"row q-ml-xs q-pl-sm json-indentation-bar"})})),t("div",{staticClass:"fixed-font content-center col row q-mr-md"},[t("q-tooltip",{attrs:{"content-style":"font-size: 1em;",anchor:"center middle",self:"center middle"}},[t("div",[t("div",{staticClass:"row items-center q-gutter-x-sm"},[t("q-icon",{attrs:{name:"o_account_tree",color:"blue-3"}}),t("div",{staticClass:"fixed-font text-bold"},[e._v(e._s(i.name))])],1),t("q-separator"),e._l(e.orderBy(i.values,"count",-1),(function(s,o){return t("q-item",{key:o,staticStyle:{"min-width":"25rem"}},[t("q-item-section",[t("q-item-label",[t("div",{staticClass:"row justify-between"},[t("div",[t("div",{staticClass:"force-long-text-wrap ellipsis-3-lines"},[e._v(e._s(s.value))])]),e.showTypesInPopup?t("q-chip",{staticClass:"q-ml-sm",class:s.type?"json-bg-type-"+s.type.toLowerCase():"",attrs:{dense:"",size:"sm"}},[e._v(e._s(s.type?e.$t(s.type):""))]):e._e()],1)]),t("q-linear-progress",{attrs:{value:s.count/i.seenInLogCount,color:"blue-3"}})],1)],1)}))],2)]),t("div",{staticClass:"json-style-leaf text-bold",class:e.darkMode?"text-light-blue-3":"text-light-blue-9"},[e._v("\n                  "+e._s(i.leaf)+"\n                ")]),i.values&&i.values.length&&void 0!==i.values[0].value?t("div",{staticClass:"force-long-text-wrap ellipsis-3-lines"},[e._v("\n                  : \n                ")]):e._e(),i.values&&i.values.length&&void 0!==i.values[0].value?t("div",{staticClass:"force-long-text-wrap ellipsis-3-lines",class:e.orderBy(i.values,"count",-1)[0].type?"json-type-"+e.orderBy(i.values,"count",-1)[0].type.toLowerCase():""},[e._v("\n                  "+e._s(e.orderBy(i.values,"count",-1)[0].value)+"\n                ")]):e._e(),i.values&&i.values.length&&i.values[0].type&&e.showExtraDetails?t("span",{staticStyle:{"font-style":"italic",opacity:"50%"}},[e._v(" ("+e._s(i.values[0].type)+":"+e._s(i.values[0].count)+"/"+e._s(i.seenInLogCount)+")")]):e._e(),e.showTypesInMainList?t("q-chip",{staticClass:"q-ml-sm",class:i.values&&i.values.length&&i.values[0].type?"json-bg-type-"+i.values[0].type.toLowerCase():"",attrs:{dense:"",size:"sm"}},[e._v(e._s(i.values&&i.values.length&&i.values[0].type?i.values[0].type:""))]):e._e()],1),t("q-select",{staticClass:"q-mx-sm q-my-xs",staticStyle:{width:"18rem"},attrs:{dense:"",standout:"bg-blue-4 text-white","emit-value":"","map-options":"",options:e.mdiTagsOptions,label:e.$t("Mapping"),"stack-label":"","popup-content-class":e.darkMode?"bg-grey-9":void 0,"use-input":"","input-debounce":"0"},on:{filter:e.filterMdiTagsOptions},scopedSlots:e._u([{key:"option",fn:function(i){return[i.opt.label&&"<hr>"!==i.opt.label?t("q-item",e._g(e._b({staticStyle:{width:"25rem"}},"q-item",i.itemProps,!1),i.itemEvents),[t("q-item-section",[i.opt.value&&i.opt.value.length>0?t("q-item-label",[t("div",{staticClass:"row justify-between"},[t("div",{staticClass:"text-bold"},[e._v(e._s(i.opt.label))]),t("div",{staticClass:"fixed-font text-caption"},[e._v("<"+e._s(i.opt.value)+">")])])]):t("q-item-label",{staticClass:"text-bold"},[e._v(e._s(i.opt.label))]),t("q-item-label",{attrs:{caption:""}},[e._v(e._s(i.opt.description))])],1)],1):e._e(),i.opt.separator?t("q-separator",{attrs:{inset:"",spaced:i.opt.label&&"<hr>"===i.opt.label}}):e._e()]}},{key:"no-option",fn:function(){return[t("q-item",[t("q-item-section",{staticClass:"text-grey"},[e._v("\n                      No results\n                    ")])],1)]},proxy:!0}],null,!0),model:{value:i.mappedField,callback:function(t){e.$set(i,"mappedField",t)},expression:"item.mappedField"}}),t("q-select",{staticClass:"q-mx-sm q-my-xs",staticStyle:{width:"20rem"},attrs:{dense:"",standout:"bg-blue-4 text-white",options:["Parse JSON","Stringify JSON","Fan out","Sub Rule selector","Sub Rule qualifier 1","Sub Rule qualifier 2","Sub Rule qualifier 3","Sub Rule qualifier 4","Timestamp selector - ISO8601 format","Timestamp selector - Unix Timestamp format"],"popup-content-class":e.darkMode?"bg-grey-9":void 0,label:e.$t("Modifiers"),"stack-label":"",multiple:""},model:{value:i.modifiers,callback:function(t){e.$set(i,"modifiers",t)},expression:"item.modifiers"}})],2)]}}])})],1),t("q-card",{directives:[{name:"show",rawName:"v-show",value:e.showJqOutput,expression:"showJqOutput"}],staticClass:"q-mt-md"},[t("q-card-section",{staticClass:"text-h4",staticStyle:{opacity:".4"}},[e._v("\n          "+e._s(e.$t("OpenCollector JQ"))+"\n        ")]),t("q-separator"),t("q-card-section",{staticClass:"text-h6",staticStyle:{opacity:".6"}},[e._v("\n          "+e._s(e.$t("JQ Filter"))+"\n        ")]),t("q-card-section",[t("q-input",{staticClass:"fixed-font",staticStyle:{"min-height":"10rem"},attrs:{type:"textarea",filled:"",readonly:"",label:"is_"+e.pipelineNameSafe+".jq",rows:"21"},scopedSlots:e._u([{key:"after",fn:function(){return[t("q-btn",{attrs:{round:"",dense:"",flat:"",icon:"content_copy",disable:!e.jqFilterOutput||e.jqFilterOutput&&0===e.jqFilterOutput.length},on:{click:function(t){return e.copyToClipboard(e.jqFilterOutput)}}},[t("q-tooltip",{attrs:{"content-style":"font-size: 1rem; min-width: 10rem;"}},[e._v("\n                  "+e._s(e.$t("Copy to Clipboad"))+"\n                ")])],1)]},proxy:!0}]),model:{value:e.jqFilterOutput,callback:function(t){e.jqFilterOutput=t},expression:"jqFilterOutput"}})],1),t("q-separator"),t("q-card-section",{staticClass:"text-h6",staticStyle:{opacity:".6"}},[e._v("\n          "+e._s(e.$t("Transform JQ"))+"\n        ")]),t("q-card-section",[t("q-input",{staticClass:"fixed-font",staticStyle:{"min-height":"20rem"},attrs:{type:"textarea",filled:"",readonly:"",label:e.pipelineNameSafe+".jq",rows:"32"},scopedSlots:e._u([{key:"after",fn:function(){return[t("q-btn",{attrs:{round:"",dense:"",flat:"",icon:"content_copy",disable:!e.jqTransformOutput||e.jqTransformOutput&&0===e.jqTransformOutput.length},on:{click:function(t){return e.copyToClipboard(e.jqTransformOutput)}}},[t("q-tooltip",{attrs:{"content-style":"font-size: 1rem; min-width: 10rem;"}},[e._v("\n                  "+e._s(e.$t("Copy to Clipboad"))+"\n                ")])],1)]},proxy:!0}]),model:{value:e.jqTransformOutput,callback:function(t){e.jqTransformOutput=t},expression:"jqTransformOutput"}})],1)],1),t("q-card",{directives:[{name:"show",rawName:"v-show",value:e.showCommunicationLog,expression:"showCommunicationLog"}],ref:"communicationLogsTextField",staticClass:"q-mt-md",attrs:{id:"communicationLogsTextField"}},[t("q-card-section",{staticClass:"text-h6",staticStyle:{opacity:".6"}},[e._v("\n          "+e._s(e.$t("Communication & Shipper Logs"))+"\n        ")]),t("q-card-section",[t("q-input",{staticClass:"fixed-font",staticStyle:{"min-height":"10rem"},attrs:{type:"textarea",filled:"",readonly:"",rows:"21"},scopedSlots:e._u([{key:"after",fn:function(){return[t("div",{staticClass:"column full-height"},[t("div",{staticClass:"column q-gutter-y-lg"},[t("q-btn",{attrs:{round:"",dense:"",flat:"",icon:"content_copy",disable:!e.communicationLogsOutput||e.communicationLogsOutput&&0===e.communicationLogsOutput.length},on:{click:function(t){return e.copyToClipboard(e.communicationLogsOutput)}}},[t("q-tooltip",{attrs:{"content-style":"font-size: 1rem; min-width: 10rem;"}},[e._v("\n                      "+e._s(e.$t("Copy to Clipboad"))+"\n                    ")])],1),t("q-separator"),t("q-btn",{attrs:{round:"",dense:"",flat:"",icon:"clear",color:"red",disable:!e.communicationLogsOutput||e.communicationLogsOutput&&0===e.communicationLogsOutput.length},on:{click:function(t){e.communicationLogsOutput=""}}},[e.communicationLogsOutput&&e.communicationLogsOutput.length?t("q-tooltip",{attrs:{"content-style":"font-size: 1rem; min-width: 10rem;"}},[e._v("\n                      "+e._s(e.$t("Clear"))+"\n                    ")]):e._e()],1)],1)])]},proxy:!0}]),model:{value:e.communicationLogsOutput,callback:function(t){e.communicationLogsOutput=t},expression:"communicationLogsOutput"}})],1)],1)],1)],1)},o=[],a=(i("14d9"),i("cdde")),n=i("2f62"),l=i("31c4"),r=i("9fa1"),c=i("a87d"),u=i("80e3"),p=i("16f1"),d=i("f423"),m=i("a7c6"),h=i.n(m),g=i("5d0b"),b={name:"PagePipelineBuilder",mixins:[l["a"],r["a"],c["a"],u["a"],p["a"],h.a.mixin],components:{BreadCrumbs:d["a"]},data(){return{pipelineUid:"",search:"",showTypesInMainList:!1,showTypesInPopup:!0,showExtraDetails:!1,mdiTags:[{label:"Application Tab",disable:!0,description:"",separator:!0},{label:"Object",value:"object",description:"The resource (i.e., file) referenced or impacted by activity reported in the log."},{label:"Object Name",value:"objectname",description:"The descriptive name of the object. Do not use unless Object is also used."},{label:"Object Type",value:"objecttype",description:"A category type for the object (e.g., file, image, pdf, etc.)."},{label:"Hash",value:"hash",description:"The hash value reported in the log. Choose MD5  Sha1  Sha256."},{label:"Policy",value:"policy",description:"The specific policy referenced (i.e., Firewall, Proxy) in a log message."},{label:"Result",value:"result",description:"The outcome of a command operation or action. For example, the result of quarantine might be success."},{label:"URL",value:"url",description:"The URL referenced or impacted by activity reported in the log. You may need to override the default regex for URLs that are not HTTP/HTTPS."},{label:"User Agent",value:"useragent",description:"The User Agent string from web server logs."},{label:"Response Code",value:"responsecode",description:"The explicit and welldefined response code for an action or command captured in a log. Response Code differs from Result in that response code should be well- structured and easily identifiable as a code."},{label:"Subject",value:"subject",description:"The subject of an email or the general category of the log."},{label:"Version",value:"version",description:"The software or hardware device version described in either the process or object."},{label:"Command",value:"command",description:"The specific command executed that has been recorded in the log message."},{label:"Reason",value:"reason",description:"The justification for an action or result when not an explicit policy."},{label:"Action",value:"action",description:'Field for "what was done" as described in the log. Action is usually a secondary function of a command or process.'},{label:"Status",value:"status",description:"The vendor's perspective on the state of a system, process, or entity. Status should NOT be used as the result of an action."},{label:"Session Type",value:"sessiontype",description:"The type of session described in the log (e.g., console, CLI, web). Unique from IANA Protocol."},{label:"Process Name",value:"process",description:" System or application process described by the log message."},{label:"Process ID",value:"processid",description:"Numeric ID value for a process."},{label:"Parent Process ID",value:"parentprocessid",description:"The parent process ID of a system or application process that is of interest."},{label:"Parent Process Name",value:"parentprocessname",description:"The parent process name of a system or application process."},{label:"Parent Process Path",value:"parentprocesspath",description:"The full path of a parent process of a system or application process."},{label:"Quantity",value:"quantity",description:"A numeric count of something. For example, there are 4 lights (quantity is 4)."},{label:"Amount",value:"amount",description:"The qualitative description of quantity (percentage or relative numbers) For example, half the lights are on (amount is .5 or 50). Amount is also used for currency."},{label:"Size",value:"size",description:"Numeric description of capacity (e.g., disk size) without a specific unit of measurement. Size is generally used as a limit rather than a current measurement. Use Amount for non- specific measurements."},{label:"Rate",value:"rate",description:"Defines a number of something per unit of time without a specific unit of measurement. Always expressed as a fraction."},{label:"Session",value:"session",description:"Unique user or system session identifier."},{label:"Duration",disable:!0,description:"The elapsed time reported in a log message, derived from multiple fields. Timestart and Timeend need custom parsing patterns. If log has start/end use Time Start and Time End. If log has elapsed time use Days, Hours, Minutes, Seconds, Milliseconds, Microseconds or Nanoseconds.",separator:!0},{label:"Duration - Time Start",value:"timestart",description:"MUST be used with Time End"},{label:"Duration - Time End",value:"timeend",description:"MUST be used with Time Start"},{label:"Duration - Days",value:"days",description:"Elapsed time in days"},{label:"Duration - Hours",value:"hours",description:"Elapsed time in hours"},{label:"Duration - Minutes",value:"minutes",description:"Elapsed time in minutes"},{label:"Duration - Seconds",value:"seconds",description:"Elapsed time in seconds"},{label:"Duration - Milliseconds",value:"milliseconds",description:"Elapsed time in milliseconds"},{label:"Duration - Microseconds",value:"microseconds",description:"Elapsed time in microseconds"},{label:"Duration - Nanoseconds",value:"nanoseconds",description:"Elapsed time in nanoseconds"},{label:"Kbytes/Packets Tab",disable:!0,description:"The number of bytes sent or received in the context of the Impacted Host.",separator:!0},{label:"Bits in",value:"bitsin",description:"In the context of the Impacted Host."},{label:"Bits out",value:"bitsout",description:"In the context of the Impacted Host."},{label:"Bytes in",value:"bytesin",description:"In the context of the Impacted Host."},{label:"Bytes out",value:"bytesout",description:"In the context of the Impacted Host."},{label:"Kilobits in",value:"kilobitsin",description:"In the context of the Impacted Host."},{label:"Kilobits out",value:"kilobitsout",description:"In the context of the Impacted Host."},{label:"Kilobytes in",value:"kilobytesin",description:"In the context of the Impacted Host."},{label:"Kilobytes out",value:"kilobytesout",description:"In the context of the Impacted Host."},{label:"Megabits in",value:"megabitsin",description:"In the context of the Impacted Host."},{label:"Megabits out",value:"megabitsout",description:"In the context of the Impacted Host."},{label:"Megabyte in",value:"megabytein",description:"In the context of the Impacted Host."},{label:"Megabyte out",value:"megabyteout",description:"In the context of the Impacted Host."},{label:"Gigabits in",value:"gigabitsin",description:"In the context of the Impacted Host."},{label:"Gigabits out",value:"gigabitsout",description:"In the context of the Impacted Host."},{label:"Gigabyte in",value:"gigabytein",description:"In the context of the Impacted Host."},{label:"Gigabyte out",value:"gigabyteout",description:"In the context of the Impacted Host."},{label:"Terabits in",value:"terabitsin",description:"In the context of the Impacted Host."},{label:"Terabits out",value:"terabitsout",description:"In the context of the Impacted Host."},{label:"Terabytes in",value:"terabytesin",description:"In the context of the Impacted Host."},{label:"Terabytes out",value:"terabytesout",description:"In the context of the Impacted Host."},{label:"Petabits in",value:"petabitsin",description:"In the context of the Impacted Host."},{label:"Petabits out",value:"petabitsout",description:"In the context of the Impacted Host."},{label:"Petabytes in",value:"petabytesin",description:"In the context of the Impacted Host."},{label:"Petabytes out",value:"petabytesout",description:"In the context of the Impacted Host."},{label:"Bits",value:"bits",description:"In the context of the Impacted Host."},{label:"Bytes",value:"bytes",description:"In the context of the Impacted Host."},{label:"Kilobits",value:"kilobits",description:"In the context of the Impacted Host."},{label:"Kilobytes",value:"kilobytes",description:"In the context of the Impacted Host."},{label:"Megabits",value:"megabits",description:"In the context of the Impacted Host."},{label:"Megabytes",value:"megabytes",description:"In the context of the Impacted Host."},{label:"Gigabits",value:"gigabits",description:"In the context of the Impacted Host."},{label:"Gigabytes",value:"gigabytes",description:"In the context of the Impacted Host."},{label:"Terabits",value:"terabits",description:"In the context of the Impacted Host."},{label:"Trabytes",value:"terabytes",description:"In the context of the Impacted Host."},{label:"Petabits",value:"petabits",description:"In the context of the Impacted Host."},{label:"Petabytes",value:"petabytes",description:"In the context of the Impacted Host."},{label:"Packets in",value:"packetsin",description:"In the context of the Impacted Host."},{label:"Packets out",value:"packetsout",description:"In the context of the Impacted Host."},{label:"Packets",value:"packets",description:"In the context of the Impacted Host."},{label:"Classification Tab",disable:!0,description:"",separator:!0},{label:"Severity",value:"severity",description:"The vendor's view of the severity of the log."},{label:"Vendor Message ID",value:"vmid",description:"Specific vendor for the log used to describe a type of event."},{label:"Vendor Info",value:"vendorinfo",description:"Description of a specific vendor log or event identifier for the log. Human readable elaboration that directly correlates to the VMID."},{label:"Threat Name",value:"threatname",description:"The name of a threat described in the log message (e.g., malware, exploit name, signature name). Do not overload with Policy."},{label:"Threat ID",value:"threatid",description:"ID number or unique identifier of a threat. Note that CVE is stored separately."},{label:"CVE",value:"cve",description:"CVE ID (i.e., CVE-1999-0003) from vulnerability scan data."},{label:"Host Tab",disable:!0,description:"",separator:!0},{label:"MAC Address (Origin)",value:"smac",description:"The MAC address from which activity originated (i.e., attacker, client)."},{label:"MAC Address (Impacted)",value:"dmac",description:"The MAC address that was affected by the activity (i.e., target, server)."},{label:"Interface (Origin)",value:"sinterface",description:"The network port/interface from which the activity originated (i.e., attacker, client)."},{label:"Interface (Impacted)",value:"dinterface",description:"The network port/interface that was affected by the activity (i.e., target, server)."},{label:"IP Address (Origin)",value:"sip",description:"The IP address from which activity originated (i.e., attacker, client)."},{label:"IP Address (Impacted)",value:"dip",description:"The IP address that was affected by the activity (i.e., target, server)."},{label:"NAT IP Address (Origin)",value:"snatip",description:"The Network Address Translated (NAT) IP address from which activity originated (i.e., attacker, client)."},{label:"NAT IP Address (Impacted)",value:"dnatip",description:"The Network Address Translated (NAT) IP address that was affected by the activity (i.e., target, server)."},{label:"Hostname (Origin)",value:"sname",description:"The hostname from which activity originated (i.e., attacker, client)."},{label:"Hostname (Impacted)",value:"dname",description:"The hostname that was affected by the activity (i.e., target, server)."},{label:"Serial Number",value:"serialnumber",description:"The hardware or software serial number in a log message. This value should be a permanent unique identifier."},{label:"Identity Tab",disable:!0,description:"",separator:!0},{label:"User (Origin)",value:"login",description:"The originating user or system account of the activity reported in the log."},{label:"User (Impacted)",value:"account",description:"The user or system account impacted by activity reported in the log."},{label:"Sender",value:"sender",description:'The sender of an email or the "caller number" for a VOIP log. This value must relate to a specific user or unique address in the case of a phone call or email.'},{label:"Recipient",value:"recipient",description:"The recipient of an email or the dialed number for a VOIP log."},{label:"Group",value:"group",description:"The user group or role impacted by activity reported in the log. Do not use for entity group (zone or domain)."},{label:"Network Tab",disable:!0,description:"",separator:!0},{label:"Domain (Impacted)",value:"domainimpacted",description:"The Windows or DNS domain name referenced or impacted by activity reported in the log."},{label:"Domain (Origin)",value:"domainorigin",description:"The Windows or DNS domain where the logged activity originated."},{label:"Protocol",value:"protnum",description:"The IANA protocol by number."},{label:"Protocol",value:"protname",description:"The IANA protocol by name."},{label:"TCP/UDP Port (Origin)",value:"sport",description:"The port from which activity originated (i.e., client, attacker port)."},{label:"TCP/UDP Port (Impacted)",value:"dport",description:"The port to which activity was targeted (i.e., server, target port)."},{label:"NAT TCP/UDP Port (Origin)",value:"snatport",description:"The Network Address Translated (NAT) port from which activity originated (i.e., client, attacker port)."},{label:"NAT TCP/UDP Port (Impacted)",value:"dnatport",description:"The Network Address Translated (NAT) port to which activity was targeted (i.e., server, target port)."}],mdiTagsOptions:[],showQueues:!1,wrapSingleStringLog:!1,incomingLogCount:0,queueIn:[],queueProcess:{},processedLogs:[],processedLogsCount:0,jsonPathes:[],tailEnabled:!1,processInBackground:!1,processInBackgroundMaxRate:3,queueInMaxSize:200,processedLogsMaxSize:200,bufferStdOut:"",extractMessageFieldOnly:!1,messageFieldPath:".message",messageFieldPathFromTemplate:".message",showJqOutput:!1,jqFilterOutput:"",jqTransformOutput:"",needsSaving:!1,saving:!1,showCommunicationLog:!1,communicationLogsOutput:"",showManualImport:!1,manualImportMethod:"single_log",queueInDataEntrySingleLog:'{\n  "timestamp":"20210422T16:40:00",\n  "destination":{\n    "ip":"172.16.1.2",\n    "port":443\n  },\n  "source":{\n    "ip":"192.168.0.1",\n    "port":44444\n  }\n}',queueInDataEntryMultiLog:'{"timestamp":"20210422T16:40:00","id":"abcdef-1234"}\r{"timestamp":"20210422T16:43:00","id":"xyzmno-8754"}',manualImportFileInput:null}},computed:{...Object(n["d"])("mainStore",["loggedInUser","jqFilterTemplate","jqTransformTemplate","helpWikiUrlBase","collectionMethodTemplates"]),...Object(n["c"])("mainStore",["pipelines"]),pipeline(){return this.pipelines.find((e=>e.uid===this.pipelineUid))},pipelineName(){const e=this.pipelines.find((e=>e.uid===this.pipelineUid));return e&&e.name&&e.name.length?e.name:""},beatName(){return this.pipeline&&this.pipeline.collectionConfig&&this.pipeline.collectionConfig.collectionShipper?this.pipeline.collectionConfig.collectionShipper:""},pipelineNameSafe(){return this.pipelineName.replace(/[^a-zA-Z0-9_]/g,"_").toLowerCase()},maxSeenInLog(){let e=0;return this.jsonPathes.forEach((t=>{t.seenInLogCount>e&&(e=t.seenInLogCount)})),e},queueInWindow(){return JSON.stringify(this.queueIn)},queueProcessWindow(){return JSON.stringify(this.queueProcess)},breadCrumbs(){return[{icon:"o_home",link:"/Welcome"},{title:this.$t("Pipelines"),link:"/Pipelines"},{title:this.pipeline&&this.pipeline.name&&this.pipeline.name.length?this.pipeline.name:"...",icon:null,link:`/Pipelines/${this.pipelineUid}/Properties`,disabled:!(this.pipelineUid&&this.pipelineUid.length)},{title:this.$t("Properties"),link:`/Pipelines/${this.pipelineUid}/Properties`,disabled:!(this.pipelineUid&&this.pipelineUid.length)},{title:this.$tc("Mapping Builder | Mapping Builder: {pipelineName} | Mapping Builder: {pipelineName}",0)}]}},methods:{...Object(n["b"])("mainStore",["upsertPipeline"]),resetData(){setTimeout((()=>{this.incomingLogCount=0,this.jsonPathes=[],this.processedLogsCount=0,this.processedLogs=[]}),300)},filterMdiTagsOptions(e,t,i){t(""===e?()=>{this.mdiTagsOptions=this.mdiTags}:()=>{const t=e.toLowerCase();this.mdiTagsOptions=this.mdiTags.filter((e=>(e.label+e.value+e.description).toLowerCase().indexOf(t)>-1))})},addLineToCommunicationLog(e){void 0!==e&&(this.communicationLogsOutput+="string"===typeof e?e+(e.endsWith("\n")?"":"\n"):`${JSON.stringify(e,null,"  ")}\n`)},showCommunicationLogAndScrollToIt(){this.showCommunicationLog=!0,this.$nextTick((function(){this.scrollTo("communicationLogsTextField")}))},scrollTo(e){const t=this.$refs[e].$el;setTimeout((()=>{window.scrollTo({top:t.offsetTop,left:0,behavior:"smooth"})}),250)},showNotificationWithActionToLogs(e,t="negative"){this.$q.notify({message:e,type:t,progress:!0,timeout:"negative"===t?1e4:2500,actions:[{label:"See Logs",color:"white",handler:this.showCommunicationLogAndScrollToIt}]})},handleSocketOnTailLog(e){if(e.code&&"STDOUT"===e.code&&e.payload&&e.tailId&&e.tailId===this.pipelineUid)if("string"===typeof e.payload){if(this.bufferStdOut+=e.payload,this.bufferStdOut.indexOf("\n")>-1){const e=[];this.bufferStdOut.split("\n").forEach((t=>{this.wrapSingleStringLog&&"string"===typeof t?e.push({singleStringLog:t}):e.push(t)})),this.bufferStdOut="",e.length>0&&0!==e[e.length-1].length&&(this.bufferStdOut=e.pop()),this.queueInAdd({values:e})}}else this.queueInAdd({values:e.payload});e.code&&"STDERR"===e.code&&e.payload&&e.tailId&&e.tailId===this.pipelineUid&&this.addLineToCommunicationLog(e.payload),e.code&&"ERROR"===e.code&&e.payload&&e.tailId&&e.tailId===this.pipelineUid&&(this.addLineToCommunicationLog(`${e.code} | ${void 0!==e.payload?e.payload:""}`),this.showNotificationWithActionToLogs(`${e.code} | ${void 0!==e.payload?e.payload:""}`)),"END"===e.code&&e.tailId&&e.tailId===this.pipelineUid&&(this.tailEnabled=!1,this.addLineToCommunicationLog(`${e.code} | Closing this Tail. | ${void 0!==e.payload?e.payload:"🏁"}`),this.showNotificationWithActionToLogs(`${e.code} | Closing this Tail. (${void 0!==e.payload?e.payload:"🏁"})`,"info")),"EXIT"===e.code&&e.tailId&&e.tailId===this.pipelineUid&&(this.tailEnabled=!1,this.addLineToCommunicationLog(`${e.code} | Tailjob exited. | ${void 0!==e.payload?e.payload:"🏁"}`))},handleSocketOnTailKill(e){e.code&&("STDOUT"===e.code||"STDERR"===e.code)&&e.payload&&e.tailId&&e.tailId===this.pipelineUid&&this.addLineToCommunicationLog(`${e.code} | ${void 0!==e.payload?e.payload:""}`),e.code&&"ERROR"===e.code&&e.payload&&e.tailId&&e.tailId===this.pipelineUid&&(this.addLineToCommunicationLog(`${e.code} | ${void 0!==e.payload?e.payload:""}`),console.error(e.payload),this.showNotificationWithActionToLogs(`${e.code} | ${void 0!==e.payload?e.payload:""}`,"info")),"END"===e.code&&e.tailId&&e.tailId===this.pipelineUid&&(this.addLineToCommunicationLog(`${e.code} | ${this.$t("Post-Tail killing/cleaning job finished.")} | ${void 0!==e.payload?e.payload:"🏁"}`),this.showNotificationWithActionToLogs(`${e.code} | ${this.$t("Post-Tail killing/cleaning job finished.")} (${void 0!==e.payload?e.payload:"🏁"})`,"info")),"EXIT"===e.code&&e.tailId&&e.tailId===this.pipelineUid&&this.addLineToCommunicationLog(`${e.code} | ${this.$t("Post-Tail killing/cleaning job exited.")} | ${void 0!==e.payload?e.payload:"🏁"}`)},isProperJson(e){let t=!1;try{JSON.parse(e),t=!0}catch{}return t},processFilesInput({filesInput:e,importAs:t}){null==e?console.log("[processFilesInput] - 🟠 - No file selected."):Array.isArray(e)?e.forEach((e=>{this.processFileInput({singleFileInput:e,importAs:t})})):this.processFileInput({singleFileInput:e,importAs:t})},async processFileInput({singleFileInput:e,importAs:t}){if(e){const i=await e.text();if("single_log_per_file"===t)this.queueInAdd({values:i,manualEntry:!0,multiLogs:!1});else if("log_array_per_file"===t)try{this.queueInAdd({values:JSON.parse(i),manualEntry:!0,multiLogs:null})}catch{console.log("[processFileInput] - 🟠 - File contentis not a proper JSON Array")}else"log_set_per_file"===t?this.queueInAdd({values:i,manualEntry:!0,multiLogs:!0}):console.log(`[processFileInput] - 🟠 - Unknowm importAs "${t}".`)}else console.log("[processFileInput] - 🟠 - No file selected.")},queueInAdd({values:e,manualEntry:t,multiLogs:i}){if("string"===typeof e){if(!0===i)this.queueInAdd({values:e.split("\r"),manualEntry:t});else if(this.incomingLogCount++,e.length>0)try{this.queueInPush(JSON.parse(e),t)}catch{console.log("String is not a proper JSON")}}else Array.isArray(e)?(this.incomingLogCount=this.incomingLogCount+e.length,e.forEach((e=>{if("string"===typeof e){if(e.length>0)try{this.queueInPush(JSON.parse(e),t)}catch{console.log("String is not a proper JSON")}}else this.queueInPush(e,t)}))):"object"===typeof e?(this.incomingLogCount++,this.queueInPush(e,t)):console.log("[queueInAdd] - UNKNOWN TYPE")},queueInPush(e,t=!1){if((this.tailEnabled&&this.queueIn.length<this.queueInMaxSize)|t)if(this.extractMessageFieldOnly&&this.messageFieldPath&&this.messageFieldPath.length&&this.messageFieldPath.startsWith(".")){const t=this.messageFieldPath.replace(/^\./,"");e[t]||console.log(`No ${this.messageFieldPath} found in log object`);try{this.queueIn.push(JSON.parse(e[t])),!0!==this.processInBackground&&(this.processInBackground=!0)}catch{console.log(`Field ${this.messageFieldPath} does not contain proper JSON`)}}else this.queueIn.push(e),!0!==this.processInBackground&&(this.processInBackground=!0);else console.log("[queueInPush] Trying to push a value when Tail is disabled or queue is full")},queueProcessAdd({fromArray:e}){0===Object.keys(this.queueProcess).length?e&&e.length>0&&(this.queueProcess=e.shift()):console.log("queueProcessAdd - queueProcess is NOT empty. Try again later.")},processLogSample({logSample:e,options:t}){const i=e&&Object.keys(e).length>0,s=i?e:this.queueProcess;Object.keys(s).length>0&&(this.processLogKey({leaf:s,parentPath:"",depth:0,maxDepth:5}),this.processedLogsCount++,this.processedLogsCount<this.processedLogsMaxSize?this.processedLogs.push(s):this.processInBackground=!1,!0===this.processInBackground&&0===this.queueIn.length&&(this.processInBackground=!1)),!i&&t&&t.cleanQueueProcessAfterProcess&&(this.queueProcess={})},processLogKey({leaf:e,parentPath:t,depth:i,maxDepth:s}){const o=s||50;if(o>0){let s="";if(t&&""!==t||i&&0!==i)if("object"===typeof e){const a=Array.isArray(e);Object.keys(e).forEach((n=>{const l=String(n).replaceAll('"','\\"');s=a?t+"["+n+"]":t+"."+`"${l}"`,this.upsertToJsonPaths({thisKeyPath:s,depth:i,key:n,value:e[n]}),"object"===typeof e[n]&&e[n]&&this.processLogKey({leaf:e[n],parentPath:s,depth:i+1,maxDepth:o-1})}))}else console.log("Not type object");else this.upsertToJsonPaths({thisKeyPath:".",depth:0,key:"",value:e}),"object"===typeof e&&this.processLogKey({leaf:e,parentPath:s,depth:i+1,maxDepth:o-1})}},upsertToJsonPaths({thisKeyPath:e,depth:t,key:i,value:s}){const o=this.jsonPathes.findIndex((t=>t.name===e));let a={};if(a=o>=0?this.jsonPathes[o]:{name:e,leaf:i,depth:t,seenInLogCount:0,values:[]},a.seenInLogCount++,"object"!==typeof s){const e=a.values.findIndex((e=>e.value===s));e>=0?a.values[e].count++:a.values.push({value:s,type:typeof s,count:1})}else 0===a.values.length?a.values.push({type:Array.isArray(s)?"array":typeof s,count:1}):a.values[0].count++;o<0&&this.jsonPathes.push(a)},processLogSampleInBackground(){this.queueProcessAdd({fromArray:this.queueIn}),this.processLogSample({options:{cleanQueueProcessAfterProcess:!0}}),this.processInBackground&&this.scheduleNextBackgroundProcess()},initTail(){if(this.socket&&this.socket.connected){const e=Object(g["a"])(this.pipeline.collectionConfig);this.socket.emit("tail.init",{pipelineUid:this.pipelineUid,tailId:this.pipelineUid,collectionConfig:this.pipeline.collectionConfig,collectionConfigYml:e,options:this.pipeline.options})}},killTail(){this.socket&&this.socket.connected&&this.socket.emit("tail.kill",{pipelineUid:this.pipelineUid,tailId:this.pipelineUid})},listTails(){this.socket&&this.socket.connected&&this.socket.emit("tail.showtaillist")},copyToClipboard(e){Object(a["a"])(e)},buildJqFilter(){this.jqFilterOutput=this.buildJqFilterFromParams(this.pipelineUid,this.pipelineName,this.beatName,this.loggedInUser)},buildJqTransform(){this.jqTransformOutput=this.buildJqTransformFromParams({pipelineUid:this.pipelineUid,pipelineName:this.pipelineName,beatName:this.beatName,loggedInUser:this.loggedInUser,extractMessageFieldOnly:this.extractMessageFieldOnly,messageFieldPath:this.messageFieldPath,jsonPathes:this.jsonPathes})},save(){this.needsSaving=!1,this.upsertPipeline({caller:this,pushToApi:!0,pipeline:{uid:this.pipelineUid,status:this.pipeline&&this.pipeline.status&&"Ready"===this.pipeline.status?this.pipeline.status:"Dev",fieldsMapping:this.jsonPathes,options:{...this.pipeline&&this.pipeline.options?this.pipeline.options:{},extractMessageFieldOnly:this.extractMessageFieldOnly,messageFieldPath:this.messageFieldPath}}})},reverseToLastSaved(){try{const e=this.pipelines.find((e=>e.uid===this.pipelineUid));this.jsonPathes=e&&e.fieldsMapping&&e.fieldsMapping.length?JSON.parse(JSON.stringify(e.fieldsMapping)):[];const t=e&&e.collectionConfig?this.collectionMethodTemplates.find((t=>t.collectionMethod===e.collectionConfig.collectionMethod)):{},i=t&&t.options?t.options:{extractPayloadFieldOnly:!1,payloadField:"message"};this.messageFieldPathFromTemplate=String(`.${i.payloadField}`).replace(/^\.+/,"."),this.extractMessageFieldOnly=e&&e.options&&!0===e.options.extractMessageFieldOnly|!1===e.options.extractMessageFieldOnly?!0===e.options.extractMessageFieldOnly:i.extractPayloadFieldOnly,this.messageFieldPath=e&&e.options&&e.options.messageFieldPath&&e.options.messageFieldPath.length?e.options.messageFieldPath:this.messageFieldPathFromTemplate,this.processedLogsCount=this.logSample?this.logSample.length:0,this.needsSaving=!1}catch{console.log("Error while trying to reverse to last saved version")}},wikiLink(e){return this.helpWikiUrlBase+e},scheduleNextBackgroundProcess(){this.backgroundProcessInterval=setTimeout(this.processLogSampleInBackground,1e3/this.processInBackgroundMaxRate)},unscheduleNextBackgroundProcess(){clearTimeout(this.backgroundProcessInterval),this.backgroundProcessInterval=null}},mounted(){this.$route.params.pipelineUid&&this.$route.params.pipelineUid.length&&this.pipelineUid!==this.$route.params.pipelineUid&&(this.pipelineUid=this.$route.params.pipelineUid),this.mdiTagsOptions=this.mdiTags,this.reverseToLastSaved(),this.socket.on("tail.log",this.handleSocketOnTailLog),this.socket.on("tail.kill",this.handleSocketOnTailKill)},watch:{processInBackground:{handler(){this.processInBackground?this.scheduleNextBackgroundProcess():this.unscheduleNextBackgroundProcess()},deep:!1},queueIn:{handler(){this.queueIn.length+this.processedLogsCount>=this.queueInMaxSize&&(this.tailEnabled=!1)},deep:!1},tailEnabled:{handler(){this.socket.connected?this.tailEnabled?this.initTail():this.killTail():(this.tailEnabled=!1,this.$root.$emit("addAndShowErrorToErrorPanel",{data:{errors:[{code:"NoLiveSocket",message:this.$t("Live (Socket) connection with the EZ Server has been lost or is not currently established.")},{code:"TailFailedToStart",message:this.$t("Tail could not start due to no live socket available.")}]}}))},deep:!1},jsonPathes:{handler(){this.needsSaving=!0,this.showJqOutput&&this.buildJqTransform()},deep:!0}},created(){},beforeDestroy(){clearInterval(this.backgroundProcessInterval)},destroyed(){this.killTail(),this.socket.off("tail.log"),this.socket.off("tail.kill")}},f=b,y=(i("0888"),i("2877")),v=i("9989"),q=i("e359"),I=i("b498"),x=i("65c6"),S=i("9c40"),w=i("eb85"),T=i("05c0"),k=i("2c91"),C=i("4e73"),_=i("9564"),L=i("66e5"),P=i("27f9"),M=i("0016"),O=i("4074"),$=i("c1d0"),F=i("6b1d"),N=i("f09f"),A=i("a370"),E=i("429b"),j=i("7460"),D=i("adad"),z=i("823b"),U=i("7d53"),Q=i("1c1c"),B=i("cb32"),H=i("0170"),J=i("a12b"),R=i("b047"),W=i("ddd8"),K=i("7f67"),V=i("eebe"),G=i.n(V),Y=Object(y["a"])(f,s,o,!1,null,"211bceb6",null);t["default"]=Y.exports;G()(Y,"components",{QPage:v["a"],QHeader:q["a"],QColor:I["a"],QToolbar:x["a"],QBtn:S["a"],QSeparator:w["a"],QTooltip:T["a"],QSpace:k["a"],QMenu:C["a"],QToggle:_["a"],QItem:L["a"],QInput:P["a"],QIcon:M["a"],QItemSection:O["a"],QSlider:$["a"],QLinearProgress:F["a"],QCard:N["a"],QCardSection:A["a"],QTabs:E["a"],QTab:j["a"],QTabPanels:D["a"],QTabPanel:z["a"],QFile:U["a"],QList:Q["a"],QAvatar:B["a"],QItemLabel:H["a"],QVirtualScroll:J["a"],QChip:R["a"],QSelect:W["a"]}),G()(Y,"directives",{ClosePopup:K["a"]})}}]);